import pandas as pd

# ข้อมูลนักเรียนที่มีคะแนนดิบ คะแนนเต็ม เปอร์เซ็นต์ Z-score T-score และเกรด 
data = {
    'ชื่อ-สกุล': ['กรวิชญ์ ศรีบุญเลิศ', 'ธนวัตน์ อินทะเกตุ', 'สรฤทธิ์ นวลสุธา', 'กรวินท์ แก้วเพิ่ง',
             'รัชชานนท์ มหาชานนท์', 'ไกรธนวิชญ์ โนนโม้', 'สุธิพงศ์ มูลตรี', 'ณฐพงค์ ถิ่นกมุท',
             'สราวุฒิ น้อยสะอาด', 'พิทญา บุญขวาง', 'วุฒิพัศน์ พงษ์ขันธ์', 'นภัทศรา ทองบาง',
             'อรญา สิงหศิริ', 'ธัญญลักษณ์ หงษาคำ', 'มัณริกา บุญชาลี', 'ญาดา ป้องจันทร์',
             'จารีรัตน์ ทรัพย์ฟูเจริญ', 'วนิดา ชาญวิจิตร์', 'ทิพวรรณ อนุภาพ', 'อัญมณี บุญฤกษ์',
             'สุภัทตรา สามารถ', 'กชนิภา พระลับรักษา', 'ณัฐชา เยาวะศรี', 'ธนาภา สาระณา'],
    'คะแนนดิบ': [7, 5, 4, 7, 13, 11, 9, 9, 10, 7, 12, 11, 13, 8, 10, 6, 13, 10, 13, 6, 10, 6, 16, 15],
    'คะแนนเต็ม': [25]*24,
    'เปอร์เซ็นต์': [28, 20, 16, 28, 52, 44, 36, 36, 40, 28, 48, 44, 52, 32, 40, 24, 52, 40, 52, 24, 40, 24, 64, 60],
    'Z-score': [-1.825, -1.987, -2.069, -1.825, -1.336, -1.499, -1.662, -1.662, -1.581, -1.825, -1.418, -1.499,
                -1.336, -1.743, -1.581, -1.906, -1.336, -1.581, -1.336, -1.906, -1.581, -1.906, -1.092, -1.174],
    'T-score': [31.75, 30.12, 29.31, 31.75, 36.63, 35.00, 33.38, 33.38, 34.19, 31.75, 35.81, 35.00, 36.63, 32.56,
                34.19, 30.93, 36.63, 34.19, 36.63, 30.93, 34.19, 30.93, 39.07, 38.26]
}

# สร้าง DataFrame
df = pd.DataFrame(data)

# ฟังก์ชันการตัดเกรดตาม T-score
def assign_grade(T):
    if T >= 38:
        return 'A'
    elif T >= 36:
        return 'B+'
    elif T >= 34:
        return 'B'
    elif T >= 32:
        return 'C+'
    elif T >= 30:
        return 'C'
    else:
        return 'D'

# เพิ่มคอลัมน์เกรด
df['เกรด'] = df['T-score'].apply(assign_grade)

# เรียงลำดับตาม T-score จากมากไปน้อย
df_sorted = df.sort_values(by='T-score', ascending=False).reset_index(drop=True)

df_sorted[['ชื่อ-สกุล', 'คะแนนดิบ', 'คะแนนเต็ม', 'เปอร์เซ็นต์', 'Z-score', 'T-score', 'เกรด']]
